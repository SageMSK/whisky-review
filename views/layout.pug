doctype html
html
  head
    title= `${title} | ${h.websiteName}`
    link(rel='stylesheet', href='/dist/style.css')
    meta(name="viewport" content="width=device-width, initial-scale=1")
  body

    block header
      header
        nav.nav
          .nav__section.nav__section--brand
            li.nav__item
              a.nav__link(href="/") Whisky Review

          .nav__section.nav__section--pages
            each navPage in h.menu
              li.nav__item
                a.nav__link(href=navPage.slug, class=(currentPath.startsWith(navPage.slug) ? 'nav__link--active' : '')) #{navPage.title}

            if user
              li.nav__item
                .dropdown
                  div.nav__link.dropbtn #{user.firstName}
                  #myDropdown.dropdown-content
                    a.dropdown__link(href="#") Account
                    a.dropdown__link(href="/logout") Log Out
            else
              li.nav__item
                a.nav__link(href='/register', class=(currentPath.startsWith('/register') ? 'nav__link--active' : '')) Register
              li.nav__item
                a.nav__link(href='/login', class=(currentPath.startsWith('/login') ? 'nav__link--active' : '')) Log In

    block messages
      if locals.flashes
        .container
          .flash-messages
            - const categories = Object.keys(locals.flashes)
            each category in categories
              each message in flashes[category]
                .flash(class=`flash--${category}`)
                  p.flash__text!= message
                  button.flash__remove(onClick="this.parentElement.remove()") &times;

    .container
      block content

    block scripts
      script(src="/dist/App.bundle.js")
